import os
import sys

# --- SCRIPT CONFIGURATION ---
# Place this script in the root of your EternalGames project directory and run it.
PROJECT_ROOT = '.' 

# This dictionary contains all the text replacements requested.
# The keys are the original strings, and the values are the new strings.
REPLACEMENTS = {
    # --- app/globals.css ---
    "content: 'عرض الصورة كاملة';": "content: 'عرض الصورة كاملة';",

    # --- app/layout.tsx ---
    "EternalGames | الألعاب أبدية": "EternalGames | حيث لا تفنى الألعاب",
    "الألعاب أبدية.": "لا فناء للألعاب.",

    # --- app/actions/authActions.ts ---
    "إن كان البريد مسجلاً، فقد أُرسِلَ إليه رابط.": "إن صَحَّ بريدُك، أتاك الرابط.",
    "طرأ خطأ غير متوقع.": "طرأ خطبٌ ما.",
    "Invalid request.": "طلبٌ غير صالح.",
    "الرمز باطل أو منتهي الصلاحية.": "الرمز باطل أو منتهي الصلاحية.",
    "يجب ألا تقل كلمة السر عن ثمانية أحرف.": "كلمة السر لا تقل عن ثمانيةِ حروف.",
    "تم استعادة كلمة السر بنجاح.": "استُعيدت كلمة السّر.",

    # --- app/actions/commentActions.ts ---
    "لا يمكن نشر تعليق فارغ.": "لا يمكن نشر تعليق فارغ.",
    "تعذر نشر التعليق.": "تعذر نشر التعليق.",
    "غير مصرح لك.": "غير مصرح لك.",
    "'[Comment deleted]'": "'[طُمِسَ التعليق]'", 
    "'Could not delete comment.'": "'يأبى التعليقُ الحذف.'",
    '"فشل التحديث."': '"أخفق التحديث."',
    "تعذر تسجيل التصويت.": "تعذّر تسجيل التصويت.",
    "فشل جلب الردود.": "أبت الردودُ أن تُجلَب.",

    # --- app/actions/contentActions.ts (This is a common phrase) ---
    # Already handled by authActions

    # --- app/actions/userActions.ts ---
    "اسم المستخدم محجوز.": "اسمٌ محجوز.",
    "تم تحديث الملف الشخصي بنجاح.": "تَجَدَّدَ مَلَفُكَ الشخصي.",
    "Failed to update profile.": "أخفق تحديث الملف.",
    "الاسم الكامل مطلوب.": "الاسم الكامل مطلوب.",
    "اسم المستخدم مطلوب.": "اسم المستخدم مطلوب.",
    "An unexpected error occurred during onboarding.": "طرأ خطبٌ عند التهيئة.", 
    "لا يمكن تغيير كلمة السر للحسابات المرتبطة.": "لا يمكن تغيير كلمة السر للحسابات المربوطة بمزود خارجي.",
    "كافة الحقول إلزامية.": "الحقولُ كلُّها لازمة.",
    "كلمة السر الحالية غير صحيحة.": "كلمة السر الحالية خاطئة.",
    "كلمة السر الجديدة يجب ألا تقل عن ٨ أحرف.": "كلمة السر الجديدة لا تقل عن ثمانيةِ حروف.",
    "كلمتا السر الجديدتان غير متطابقتين.": "الكلمتان الجديدتان لا تتطابقان.",
    "تم تغيير كلمة السر بنجاح.": "تغيَّرت كلمة السر.",
    "اسم المستخدم يجب أن يتكون من 3-20 حرفًا إنجليزيًا.": "اسم المستخدم يجب أن يتكون من 3-20 حرفًا إنجليزيًا.",
    "اسم المستخدم متاح.": "الاسمُ متاح.",
    "البريد الإلكتروني غير صالح.": "البريد الإلكتروني غير صالح.",
    "هذا البريد مسجل بالفعل.": "بريدٌ مسجل.",
    "Validation successful.": "تمَّت المصادقة.",
    "Username has already been set.": "الاسمُ قد عُيِّن.",
    "Failed to update username.": "أخفق تحديث الاسم.",
    "لا يوجد ملف صورة جديد.": "لا صورة جديدة.",
    "تم تحديث الصورة الرمزية.": "تجدَّدت الصورة الرمزية.",
    "فشل الرفع.": "أخفق الرفع.",

    # --- app/api/cron/revalidate-scheduled/route.ts ---
    "غير مصرح لك.": "غير مُخَوَّل.",
    "No documents to revalidate.": "لا وثائقَ لإعادة المصادقة.",

    # --- app/articles/ArticlesPageClient.tsx ---
    "أحدث المقالات": "أحدث المقالات",
    "جميع المقالات": "جميع المقالات",
    "وصلت إلى نهاية الأرشيف.": "بلغتَ المنتهى.",
    "امسح المرشحات لتحميل المزيد.": "أزِل المرشحات للمزيد.",
    "لم نعثر على مقالات تطابق مرادك.": "لم نعثر على مقالاتٍ توافقُ مُرادك.",

    # --- app/articles/page.tsx ---
    "الأرشيف هادئ. المزيد من المقالات قريبًا.": "بلغتَ المنتهى. مقالاتٌ أخرى تلوحُ في الأفق.",

    # --- app/celestial-almanac/StarPreviewCard.tsx ---
    'aria-label="إغلاق المعاينة"': 'aria-label="إغلاق"',
    "الإصدار: ": "الإصدار:",
    "عرض محور اللعبة": "محور اللعبة",

    # --- app/celestial-almanac/index.tsx ---
    "'أداء'": "'أداء'",
    "'متوازن'": "'مُتَّزِن'",
    "'فائق'": "'فائق'",
    "فتح إعدادات التقويم": "فتح إعدادات الفلك",
    "التقويم يرسم...": "الفلكُ يُرسَم...",
    "يتم جمع بيانات الإصدار. ستظهر الخريطة السماوية قريبًا.": "تُجمعُ بياناتُ الإصدار، وستبزغُ الخريطةُ عما قريب.",

    # --- app/creators/[username]/page.tsx ---
    "لم ينشر هذا المستخدم أي محتوى عام بعد.": "لم يُرَ لهذا المستخدمِ أثرٌ بعد.",
    "عرض الملف الشخصي للمستخدم": "ملف المستخدم",
    "→ عرض الملف الشخصي": "→ الملف الشخصي",

    # --- app/games/[slug]/page.tsx ---
    "محور لعبة: ": "محور لعبة:",
    "لم يُنشر أي محتوى حول هذه اللعبة بعد. الأرشيف يترقب المستجدات.": "لم يُخطَّ حرفٌ بعدُ عن هذه اللعبة. الأرشيفُ يترقب.",

    # --- app/lib/authOptions.ts ---
    '"البريد الإلكتروني"': '"البريد"',
    '"كلمة السر"': '"كلمة السر"',
    '"البيانات ناقصة."': '"البياناتُ ناقصة."',
    '"لا حساب بهذا البريد. تفضل بالتسجيل."': '"لا حساب بهذا البريد. تفضل بالتسجيل."',
    '"هذا الحساب مرتبط بمزود خارجي."': '"هذا الحساب مربوط بمزود خارجي."',
    '"كلمة السر غير صحيحة."': '"كلمة السر خاطئة."',
    '"Missing sign-up details."': '"تفاصيل التسجيل ناقصة."',

    # --- app/news/page.tsx ---
    "موجز الأنباء": "موجز الأنباء",
    "لا توجد أخبار حاليًا. سنعود بالجديد.": "لا أنباءَ تُذكَر. سنوافيكم بالجديد.",

    # --- app/news/NewsPageClient.tsx ---
    "أرشيف الأخبار": "أرشيف الأنباء",
    "لا توجد أخبار تطابق ما اخترت.": "لا أنباءَ توافقُ ما اخترت.",

    # --- app/profile/page.tsx ---
    "إعدادات الحساب": "إعدادات الحساب",
    "تحرير بياناتك": "تحرير البيانات",
    # 'تغيير كلمة السر' is handled by a different file

    # --- app/profile/bookmarks/page.tsx ---
    "محفوظاتك": "محفوظاتك",
    "لم تحفظ أي محتوى بعد.": "لم تحفظ شيئًا بعد.",

    # --- app/profile/[username]/page.tsx ---
    "عضو منذ ": "عضوٌ منذ ",
    "عرض كل الأعمال": "عرض كل الأعمال",
    "حول": "عن",
    "الأوسمة": "الأوسمة",
    "النشاط الأخير": "آخرُ نشاط",
    "علّق على ": "علّق على ",
    "محتوى لم يعد متاحًا": "تعليقٌ لم يعد متاحًا",
    " لم ينشر أي تعليقات بعد.": " لم يخطَّ تعليقًا بعد.",

    # --- app/releases/ReleasePageClient.tsx ---
    "تصفية حسب المنصة:": "تصفية حسب المنصة:",
    "'الكل'": "'الكل'",
    "'PC'": "'PC'",
    "'PS5'": "'PlayStation 5'",
    "'Xbox'": "'Xbox'",
    "'Switch'": "'Switch'",
    "الإصدارات القادمة لسنة 2025": "إصدارات 2025 المُرتقبة",
    "لا إصدارات لهذه المنصة بعد.": "لا إصدارات لهذه المنصة بعد.",

    # --- app/reviews/page.tsx ---
    "المراجعات": "المراجعات",
    "لا توجد حاليًا أي مراجعات في الأرشيف. عد قريبًا.": "الأرشيفُ خالٍ من المراجعاتِ حاليًا. عُد قريبًا.",

    # --- app/reviews/ReviewsPageClient.tsx ---
    "الأعلى تقييمًا": "الأعلى تقييمًا",
    "اقرأ المراجعة": "اقرأ المراجعة",
    "جميع المراجعات": "كلُّ المراجعات",
    "لا توجد مراجعات تطابق ما اخترت.": "لا مراجعات توافقُ ما اخترت.",

    # --- app/studio/ActionDrawer.tsx ---
    "label: 'تحرير'": "label: 'تحرير'",
    "label: 'Preview'": "label: 'معاينة'",
    "label: 'حذف'": "label: 'حذف'",

    # --- app/studio/DeleteConfirmationModal.tsx ---
    "تأكيد الحذف": "تأكيد الحذف",
    "هل أنت متأكد من رغبتك في حذف ": "هل أنت متأكد من رغبتك في حذف ",
    "This action cannot be undone.": "لا رجعةَ في هذا.",
    "'إلغاء'": "'إلغاء'",
    "جار الحذف...": "جارٍ الحذف...",
    "حذف نهائي": "حذفٌ نهائي",
    
    # --- app/studio/GenesisOrb.tsx ---
    "'مراجعة جديدة'": "'مراجعة جديدة'",
    "'مقالة جديدة'": "'مقالة جديدة'",
    "'خبر جديد'": "'خبر جديد'",
    "'إصدار جديد'": "'إصدار جديد'",
    '"ليس لديك الصلاحية لإنشاء هذا المحتوى."': '"ليس لكَ إذنُ الإنشاء."',
    '"فشل إنشاء المسودة."': '"أخفق إنشاء المسودة."',

    # --- app/studio/StudioDashboard.tsx ---
    "ديوان القيادة": "ديوان الصنعة",
    "قُد دفّة محتواك في رحاب EternalGames.": "قُد دفّة محتواك في رحاب EternalGames.",
    'ابحث في العناوين...': 'استنطق المحفوظات...',
    "'مسودة'": "'مسودة'",
    "'منشورة'": "'منشورة'",
    "'مجدولة'": "'مجدولة'",
    "لا يوجد محتوى.": "لا محتوى.",
    "NO IMAGE": "بلا صورة",

    # --- app/studio/StudioTabs.tsx ---
    "كل المحتوى": "كل المحتوى",
    
    # --- app/studio/actions.ts ---
    "غير مصرح لك.": "غير مُخَوَّل.",
    "صلاحيات غير كافية.": "صلاحياتٌ قاصرة.",
    "User not found or name is missing.": "المستخدمُ مفقودٌ أو الاسمُ غائب.",
    "Document type not found for creation.": "لم يُعثر على نوع الوثيقة لإنشائها.",
    "Document not found after update.": "الوثيقةُ مفقودةٌ بعد تحديثها.",
    "An unexpected error occurred during the save operation.": "أصابنا خطبٌ أثناء الحفظ.",
    "Document not found.": "الوثيقةُ مفقودة.",
    "Insufficient permissions.": "أذوناتٌ قاصرة.",
    "Could not be deleted.": "تأبى الحذف.",
    "Failed to commit publication status.": "أخفق تنفيذ حالة النشر.",
    "Game search failed:": "أخفق البحث عن اللعبة:",
    "Failed to create game:": "أخفق إنشاء اللعبة:",
    "Tag search failed:": "أخفق البحث عن الوسم:",
    "Failed to create tag:": "أخفق إنشاء الوسم:",
    "Recent tags fetch failed:": "أخفق جلب آخر الوسوم:",
    "Waiting for document ID...": "بانتظار مُعرِّف الوثيقة...",
    "المُعرِّف لا يمكن أن يكون فارغًا.": "لا يكُن المُعرِّفُ خاويًا.",
    "يمكن أن يحتوي المُعرِّف على أحرف وأرقام وشرطات فقط.": "المُعرِّف: حروفٌ وأرقامٌ وشَرْطاتٌ لا غير.",
    "المُعرِّف صالح.": "المُعرِّفُ صالح.",
    "هذا المُعرِّف مستخدم بالفعل.": "مُعرِّفٌ مُستعمل.",
    "فشل التحقق بسبب خطأ في الخادم.": "أخفق التحقق لخطبٍ في الخادم.",
    "'Unauthorized'": "'غير مُصرَّح به'",
    "'No file provided'": "'لم يُقدَّم ملف.'",
    "'Failed to upload asset to Sanity.'": "'أخفق رفع الملف.'",
    "تم إلغاء نشر المستند بنجاح.": "أُلغيَ نشرُ الوثيقة.",
    "تم نشر الإصدار بنجاح.": "نُشِرَ الإصدار.",
    "تم جدولة المستند بنجاح.": "جُدولت الوثيقة.",
    "تم نشر المستند بنجاح.": "نُشِرت الوثيقة.",

    # --- app/studio/director/EditRolesModal.tsx ---
    "Edit Roles for": "تعديل أدوار",
    "حدد الأدوار التي يجب أن يمتلكها هذا المستخدم.": "اختر الأدوار التي سيتقلَّدها هذا المستخدم.",
    "Roles for": "أدوار",
    "updated.": "حُدِّثت.",
    "فشل تحديث الأدوار.": "أخفق تحديث الأدوار.",
    "جارٍ الحفظ...": "جارٍ الحفظ...",
    "حفظ التغييرات": "حفظ",
    
    # --- app/studio/director/UserManagementClient.tsx ---
    "المستخدم": "المستخدم",
    "الأدوار": "الأدوار",
    "تعديل الأدوار": "تعديل الأدوار",
    "User (Default)": "مستخدم (افتراضي)",
    "ابحث بالاسم أو البريد الإلكتروني...": "ابحث بالاسم أو البريد...",
    
    # --- app/studio/director/actions.ts ---
    "A database error occurred.": "خطبٌ في قاعدة البيانات.",
    
    # --- app/studio/director/page.tsx ---
    "الإدارة": "الإدارة",
    "تعيين وإدارة الأدوار لجميع المستخدمين. تسري التغييرات في الجلسة التالية للمستخدم.": "عيّن وأدِر الأدوار. تسري التغييرات بعد إعادة تسجيل الدخول.",

    # --- app/studio/[contentType]/[id]/BlockToolbar.tsx ---
    "صورة واحدة": "صورة مفردة",
    "مقارنة صور": "مضاهاة صورتين",
    "شبكة صورتين": "شبكة صورتين",
    "شبكة 4 صور": "شبكة 4 صور",

    # --- app/studio/[contentType]/[id]/EditorCanvas.tsx ---
    "جارٍ تحميل المحرر...": "جارٍ تحميل المحرر...",
    "إصدار غير معنون": "إصدارٌ بلا عنوان",
    "لا يوجد محتوى نصي للإصدارات.": "لا نصَّ للإصدارات.",
    "يتم تحرير جميع البيانات من الشريط الجانبي.": "تُحرَّرُ البياناتُ من الشريط الجانبي.",
    
    # --- app/studio/[contentType]/[id]/EditorClient.tsx ---
    "لا يمكن الحفظ بمُعرّف غير صالح.": "لا يمكن الحفظ بمُعرِّف غير صالح.",
    "أخفق حفظ التغييرات.": "أخفق حفظ التغييرات.",
    "يرجى حفظ التغييرات أولاً.": "احفظ التغييرات أولاً.",
    "تم تحديث حالة النشر بنجاح!": "تجددت حالة النشر!",
    "فشل تحديث حالة النشر.": "أخفق تحديث الحالة.",
    "*غير محفوظ*": "*لم يُحفظ*",
    "غير معنون": "بلا عنوان",
    "You have unsaved changes. Are you sure you want to leave?": "أَتَغادرُ وما كتبت لم يُحفظ؟",
    "EternalGames الديوان": "EternalGames الديوان",
    "بانتظار مُعرّف الوثيقة...": "بانتظار مُعرِّف الوثيقة...",
    "جار التحقق...": "جارٍ التحقق...",
    
    # --- app/studio/[contentType]/[id]/EditorSidebar.tsx ---
    "منصة التحرير": "منصة التحرير",
    "تحرير:": "تحرير:",
    "جدولة (اختياري)": "جدولة (اختياري)",
    "تحديث الإصدار": "تحديث الإصدار",
    "نشر الإصدار": "نشر الإصدار",
    "حفظ وجدولة": "حفظ وجدولة",
    "جدولة": "جدولة",
    "حفظ وتحديث": "حفظ وتحديث",
    "تحديث": "تحديث",
    "حفظ ونشر": "حفظ ونشر",
    "انشر الآن": "انشر الآن",
    "إلغاء النشر": "إلغاء النشر",
    "الحقول الإلزامية ناقصة.": "الحقول الإلزامية ناقصة.",
    "جودة الصورة الرئيسية": "جودة الصورة الرئيسية",
    "1080p": "1080p",
    "4K": "4K",
    "المُعرِّف": "المُعرِّف",
    "تاريخ الإصدار": "تاريخ الإصدار",
    "نبذة": "نبذة",
    "المراجعون": "المراجعون",
    "الكتّاب": "الكتّاب",
    "المراسلون": "المراسلون",
    "المنشئون": "المنشئون",
    "المصممون (اختياري)": "المصممون (اختياري)",
    "نوع المقال": "نوع المقال",
    "اختر نوع المقال...": "اختر نوع المقال...",
    "الوسوم": "الوسوم",
    "ابحث أو أنشئ وسمًا...": "ابحث أو أنشئ وسمًا...",
    "التقييم (0-10)": "التقييم (0-10)",
    "الخلاصة": "الخلاصة",
    "المحاسن": "المحاسن",
    "المآخذ": "المساوئ",
    "+ إضافة محسن": "+ إضافة حَسَنة",
    "+ إضافة مأخذ": "+ إضافة سيئة",
    "تم الحفظ!": "حُفِظ!",
    # 'حفظ التغييرات' handled by another file
    "المنصات": "المنصات",

    # --- app/studio/[contentType]/[id]/ImageCompareComponent.tsx ---
    "جار تحسين الصورة للرفع...": "جارٍ تهيئة الصورة للرفع...",
    "جار رفع الصورة": "جارٍ رفع الصورة",
    "تم رفع الصورة بنجاح.": "رُفِعت الصورة.",
    "فشل رفع أصل الصورة إلى Sanity.": "أخفق رفع أصل الصورة.",
    "فشل معالجة الصورة.": "أخفقت معالجة الصورة.",
    "تغيير الصورة ": "تغيير الصورة ",
    "أفلت صورة أو انقر للرفع": "أفلت صورةً أو انقر للرفع",
    "Delete Grid": "حذف الشبكة",

    # --- app/studio/[contentType]/[id]/ImageResizeComponent.tsx ---
    "Delete": "حذف",
    
    # --- app/studio/[contentType]/[id]/LinkEditorModal.tsx ---
    "تعديل الرابط": "تعديل الرابط",
    "إزالة الرابط": "إزالة الرابط",
    "تطبيق": "تطبيق",

    # --- app/studio/[contentType]/[id]/RichTextEditor.tsx ---
    "اكتب محتواك هنا...": "خُطَّ ما في نفسِكَ هنا...",
    "فشل رفع الصورة.": "أخفق رفع الصورة.",

    # --- app/studio/[contentType]/[id]/StatefulSaveButton.tsx ---
    "حُفظت التغييرات بنجاح!": "حُفظت التغييرات!",
    "فشل حفظ التغييرات.": "أخفق حفظ التغييرات.",

    # --- app/studio/[contentType]/[id]/metadata/MainImageInput.tsx ---
    "نوع الملف غير صالح. يرجى رفع صورة.": "نوع ملف غير صالح. يرجى رفع صورة.",
    "جار تحسين الصورة...": "جارٍ تهيئة الصورة...",
    "تم رفع الصورة الرئيسية بنجاح.": "رُفِعت الصورة الرئيسية.",
    "فشل تحسين الصورة.": "أخفقت تهيئة الصورة.",
    "اسحب وأفلت أو انقر للرفع": "أفلت أو انقر للرفع",
    "سيتم تحسين الصور الكبيرة تلقائيًا": "الصورُ الكبيرةُ تُهَيَّأُ تلقائيًا",
    "إزالة الصورة": "إزالة الصورة",
    "تمت إزالة الصورة الرئيسية.": "أُزيلت الصورة الرئيسية.",

    # --- app/tags/[tag]/page.tsx ---
    "وسم:": "وسم:",
    "لم يتم نشر أي محتوى بهذا الوسم بعد.": "لم يُنشر عملٌ بهذا الوسم بعد.",

    # --- app/welcome/WelcomePageClient.tsx ---
    "عمرك سيُعرض علنًا. يمكنك إخفاؤه لاحقًا من الإعدادات.": "عمرك سيُعرض علنًا. يمكنك إخفاؤه لاحقًا من الإعدادات.",
    "بلدك سيُعرض علنًا. يمكنك إخفاؤه لاحقًا من الإعدادات.": "بلدك سيُعرض علنًا. يمكنك إخفاؤه لاحقًا من الإعدادات.",
    "أهلاً بك في رحاب EternalGames!": "أهلاً بك في رحاب EternalGames!",
    "بقيت خطوة أخيرة. أكمل ملفك الشخصي لتدخل مجتمعنا.": "خطوةٌ أخيرة تفصلك. أكمل ملفك الشخصي لتدخل مَعيَّتنا.",
    "اختر اسمًا للمستخدم": "اختر اسمًا للمستخدم",
    "العمر (اختياري)": "العمر (اختياري)",
    "البلد (اختياري)": "البلد (اختياري)",
    "أوافق على": "أوافق على",
    "شروط الخدمة": "شروط الخدمة",
    "إكمال الملف الشخصي": "إكمال الملف الشخصي",
    "اكتمل ملفك. أهلاً بك في EternalGames.": "اكتمل ملفك. أهلًا بك في EternalGames.",
    "فشل إكمال الملف الشخصي.": "أخفق إكمال الملف.",
    
    # --- components/BookmarkButton.tsx ---
    'aria-label="Bookmark article"': 'aria-label="إحفظ"',

    # --- components/ConfirmationModal.tsx ---
    "تأكيد": "تأكيد",

    # --- components/ContentActionBar.tsx ---
    'aria-label="Unlike"': 'aria-label="إلغاء الإعجاب"',
    'aria-label="Like"': 'aria-label="إعجاب"',
    'aria-label="Share"': 'aria-label="مشاركة"',
    
    # --- components/CreatorCredit.tsx ---
    "تصميم": "تصميم",
    "بقلم": "بقلم",
    
    # --- components/Footer.tsx ---
    "صاغه محمد السعد - @MoVisionX": "صاغه محمد السعد - @MoVisionX",

    # --- components/KineticReleaseTimeline.tsx ---
    "لا توجد إصدارات مجدولة لهذا الشهر.": "لا إصدارات مجدولة لهذا الشهر.",
    "عرض كل الإصدارات": "عرض كل الإصدارات",

    # --- components/Navbar.tsx ---
    "فتح البحث": "فتح البحث",
    "Toggle menu": "تبديل القائمة",
    "Activate light mode": "تفعيل الوضع النهاري",
    "Activate dark mode": "تفعيل الوضع الليلي",
    "Preview Live Page": "معاينة الصفحة الحية",
    "Document is not published": "المستند غير منشور",
    # Nav items
    "المراجعات": "المراجعات",
    "الأخبار": "الأخبار",
    "المقالات": "المقالات",
    "الإصدارات": "الإصدارات",
    "التقويم": "التقويم",
    "الكوكبة": "الكوكبة",

    # --- components/PasswordChangeForm.tsx ---
    "كلمة السر الحالية": "كلمة السر الحالية",
    "كلمة السر الجديدة": "كلمة السر الجديدة",
    "تأكيد كلمة السر الجديدة": "تأكيد الجديدة",
    "تحديث كلمة السر": "تحديث كلمة السر",

    # --- components/ProfileEditForm.tsx ---
    "صورتك الرمزية": "صورتك الرمزية",
    "تغيير": "تغيير",
    "انقر لرفع صورة جديدة (الحد الأقصى 4.5 ميجابايت).": "انقر لرفع صورة جديدة (أقصاه 4.5 ميجابايت).",
    "الاسم المعروض": "الاسم المعروض",
    "النبذة التعريفية": "النبذة التعريفية",
    "حساب تويتر": "حساب تويتر",
    "حساب انستغرام": "حساب إنستغرام",
    "إظهار العمر للعامة": "إظهار العمر علنًا",
    "إظهار البلد للعامة": "إظهار البلد علنًا",
    "حفظ التغييرات": "حفظ التغييرات",
    "تم تحديث الملف الشخصي بنجاح!": "حُدِّثَ الملف بنجاح!",
    
    # --- components/ScoreBox.tsx ---
    # الخلاصة is a variable title in some components, handle this one carefully
    "الخلاصة": "الخلاصة",
    # المحاسن too
    "المحاسن": "المحاسن",
    "المآخذ": "المساوئ",

    # --- components/Search.tsx ---
    "Close search": "إغلاق البحث",
    "استنطاق الأرشيف": "استنطاق الأرشيف",
    "خُطَّ حروفك لاستنطاق السجلات.": "خُطَّ ما في نفسِكَ تُجِبْكَ السجلات.",
    "لا أثر في السجلات لـ": "لا أثرَ في السجلاتِ لـ",
    
    # --- components/SignInModal.tsx ---
    "الولوج عبر ": "الدخول عبر ",
    "الولوج بالبريد": "الدخول بالبريد",
    "Sign In with Email": "الدخول بالبريد الإلكتروني",
    "ولوج": "تسجيل الدخول",
    "كلمة السر (8 أحرف على الأقل)": "كلمة السر (8 حروف على الأقل)",
    "أنشئ حسابًا": "أنشئ حسابًا",
    "لديك حساب بالفعل؟": "لديك حساب؟",
    "جديدٌ في EternalGames؟": "جديدٌ في رحابنا؟",
    "هل نسيت كلمة السر؟": "أنسيت كلمة السر؟",
    "إعادة تعيين كلمة السر": "إعادة تعيين كلمة السر",
    "أدخل بريدك لتلقي رابط إعادة التعيين.": "أدخل بريدك ليصلك رابط التعيين.",
    "إرسال الرابط": "إرسال الرابط",

    # --- components/StudioBar.tsx ---
    "الديوان": "الديوان",
    "Edit Page": "تعديل الصفحة",
    
    # --- components/UserProfile.tsx ---
    "فتح قائمة المستخدم": "فتح قائمة المستخدم",
    "ملفك الشخصي": "ملفك الشخصي",
    "الإعدادات": "الإعدادات",
    "المحفوظات": "المحفوظات",
    "خروج": "تسجيل الخروج",
    "ولوج": "تسجيل الدخول",
    
    # --- components/comments/CommentForm.tsx ---
    "أدلِ برأيك...": "أدلِ برأيك...",
    "أضف ردًا": "أضف ردًا",
    "انشر التعليق": "انشر التعليق",

    # --- components/comments/CommentItem.tsx ---
    "إخفاء الردود": "إخفاء الردود",
    "عرض ": "عرض ",
    "ردود": "ردود",
    "رد": "رد",
    "جارٍ التحميل...": "جارٍ التحميل...",
    "حُذِفَ التعليق": "طُمِسَ التعليق",
    "حفظ": "حفظ",
    "حذف التعليق": "حذف التعليق",
    "هل أنت متيقن؟": "أمتأكدٌ من الحذف؟",

    # --- components/comments/CommentList.tsx ---
    "كن أول من يخط حرفًا هنا.": "كن أول من يخط حرفًا هنا.",
    
    # --- components/comments/SignInPrompt.tsx ---
    "شارك في النقاش": "شارك في النقاش",
    "لترك بصمتك في النقاش، قم بتسجيل الدخول.": "لتترك تعليقًا، سجِّل دخولك.",

    # --- components/comments/TimeStamp.tsx ---
    '"للتو"': '"للتو"',
    '`منذ ${Math.floor(seconds)} ث`': '`منذ ${Math.floor(seconds)} ثوانٍ`',
    '`منذ ${Math.floor(minutes)} د`': '`منذ ${Math.floor(minutes)} دقائق`',
    '`منذ ${Math.floor(hours)} س`': '`منذ ${Math.floor(hours)} ساعات`',
    
    # --- components/constellation/ConstellationControlPanel.tsx ---
    "إعدادات الكوكبة": "إعدادات الكوكبة",
    "إعدادات الجودة": "إعدادات الجودة",
    "كثافة المجرة": "كثافة المجرة",
    "Bloom Intensity {isLightMode && \"(Disabled)\"}": "كثافة التوهج {isLightMode && \"(معطل)\"}",
    "سماكة المسار": "سماكة المسار",
    "إظهار المدارات دائمًا": "إظهار المدارات دومًا",
    "وضع ملء الشاشة": "وضع ملء الشاشة",

    # --- lib/badges.tsx ---
    "يشرف على مشروع EternalGames.": "يشرف على مشروع EternalGames.",
    "صوت موثوق لمراجعات الألعاب.": "صوت موثوق لمراجعات الألعاب.",
    "يكتب المقالات والمواضيع المميزة.": "يخطُّ المقالات والمواضيع.",
    "يغطي آخر أخبار الصناعة.": "يقتفي أثر أخبار الصناعة.",
    "يساهم في التصميم البصري للمحتوى.": "يضفي رونقًا على المحتوى.",
    "انضم إلى EternalGames في الشهر الأول من إطلاقه.": "التحق بركب EternalGames في شهره الأول.",
    "نشر أول تعليق له.": "خطَّ أول تعليقٍ له.",
    "نشر أكثر من 10 تعليقات.": "جاوزت تعليقاته العشرة.",
    "نشر أكثر من 50 تعليقًا.": "جاوز الخمسين تعليقًا.",
    
    # --- lib/store.ts ---
    "فشل حفظ العلامة المرجعية.": "فشل الحفظ.",
    "فشل تسجيل الإعجاب.": "أخفق تسجيل الإعجاب.",
}

def process_file(file_path, replacements_dict):
    """Reads a file, applies replacements, and writes it back if changed."""
    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()
            
        original_content = content
        replacements_made = 0
        
        for old, new in replacements_dict.items():
            if old in content:
                count = content.count(old)
                content = content.replace(old, new)
                replacements_made += count
        
        if content != original_content:
            with open(file_path, 'w', encoding='utf-8') as f:
                f.write(content)
            print(f"  \033[92m✓\033[0m Updated '{os.path.relpath(file_path)}' ({replacements_made} replacements)")
            return replacements_made
            
    except Exception as e:
        print(f"  \033[91m✗\033[0m Could not process file '{os.path.relpath(file_path)}': {e}")
    
    return 0

def main():
    """Main script logic to traverse directories and process files."""
    extensions_to_process = ('.ts', '.tsx', '.css', '.json', '.ndjson', '.prisma')
    dirs_to_ignore = {'.next', 'node_modules', '.git'}
    files_to_ignore = {'package-lock.json', os.path.basename(__file__)}
    
    total_files_processed = 0
    total_replacements = 0
    
    print("\n\033[1m\033[96m--- Starting EternalGames Batch Text Replacement ---\033[0m")
    
    for root, dirs, files in os.walk(PROJECT_ROOT, topdown=True):
        # Modify dirs in-place to prevent walking into ignored directories
        dirs[:] = [d for d in dirs if d not in dirs_to_ignore]
        
        for file_name in files:
            if file_name in files_to_ignore:
                continue
                
            if file_name.endswith(extensions_to_process):
                total_files_processed += 1
                file_path = os.path.join(root, file_name)
                replacements_count = process_file(file_path, REPLACEMENTS)
                if replacements_count > 0:
                    total_replacements += replacements_count

    print("\n\033[1m\033[96m--- Replacement Complete ---\033[0m")
    print(f"  Processed: \033[93m{total_files_processed}\033[0m files.")
    print(f"  Total replacements made: \033[93m{total_replacements}\033[0m.")
    print("\n\033[92mOperation successful.\033[0m\n")

if __name__ == "__main__":
    if sys.version_info[0] < 3:
        sys.exit("This script requires Python 3.")
    main()