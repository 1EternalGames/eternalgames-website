/* components/Navbar.module.css */

.navbar {
  position: fixed;
  top: 0;
  right: 0;
  width: 100%;
  z-index: 1070;
  height: var(--nav-height);
  display: flex;
  align-items: center;
  
  /* OPTIMIZATION: Hint browser about expensive layout changes */
  will-change: height, background-color, backdrop-filter;
  
  transition: height 0.4s cubic-bezier(0.16, 1, 0.3, 1), 
              background-color 0.4s ease, 
              backdrop-filter 0.4s ease;
  border-bottom: 1px solid transparent;
}

/* Cyber-Industrial Glass Dock */
.navbar.scrolled {
  height: var(--nav-height-scrolled);
  background-color: rgba(5, 5, 5, 0.6);
  backdrop-filter: blur(20px) saturate(140%);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 10px 40px -10px rgba(0,0,0,0.9);
}

@media (max-width: 768px) {
  /* MOBILE OPTIMIZATION: Kill Blur */
  .navbar.scrolled {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background-color: rgba(5, 5, 5, 0.95) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }
}

.navContainer {
  width: 100%;
  height: 100%;
}

.desktopView {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  width: 100%;
  height: 100%;
}

.navLogo {
  font-family: var(--font-heading), sans-serif;
  font-size: 3rem;
  font-weight: 800;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  z-index: 10;
}

.desktopView > nav { 
    justify-self: center; 
    height: 100%;
    display: flex;
    align-items: center;
}

.navLinks {
  display: flex;
  gap: 0.5rem;
  list-style: none;
  align-items: center;
  height: 100%;
  margin: 0;
  padding: 0;
}

.navItem {
    position: relative;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    perspective: 1000px;
}

.blackHoleLink {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 2.4rem;
    height: 100%;
    text-decoration: none !important;
    cursor: pointer;
    color: var(--text-primary);
    font-family: var(--font-ui);
    font-weight: 700;
    font-size: 1.5rem;
    border-radius: 999px;
    background: transparent;
    transition: background-color 0.3s ease;
}
@media (hover: hover) {
  .blackHoleLink:hover  {
    background-color: rgba(255, 255, 255, 0.03);
  }
  .blackHoleLink:active  {
    background-color: rgba(255, 255, 255, 0.03);
  }
}
.blackHoleLink:active {
    background-color: rgba(255, 255, 255, 0.03);
}


/* Override global underline animation */
.blackHoleLink::after {
    display: none !important;
    content: none !important;
}

.contentContainer {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Text Layer */
.textWrapper {
    position: relative;
    display: block;
    white-space: nowrap;
    z-index: 2;
    will-change: transform, opacity, filter;
    backface-visibility: hidden; 
}

/* Icon Layer */
.iconWrapper {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 3;
    pointer-events: none;
    will-change: transform, opacity, filter;
}

.navIconSvg {
    width: 26px;
    height: 26px;
    filter: drop-shadow(0 0 12px var(--accent));
    color: var(--accent);
}

.navControls {
  justify-self: end;
  display: flex;
  align-items: center;
  gap: 2rem;
}

.navSearch {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  position: relative;
  width: 2.4rem;
  height: 2.4rem;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  justify-content: center;
}

.navSearch svg {
  width: 2.2rem;
  height: 2.2rem;
  stroke: currentColor;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
@media (hover: hover) {
  .navSearch:hover svg  {
  color: var(--accent);
  transform: scale(1.15) rotate(-15deg);
  filter: drop-shadow(0 0 8px var(--accent));
  }
  .navSearch:active svg  {
  color: var(--accent);
  transform: scale(1.15) rotate(-15deg);
  filter: drop-shadow(0 0 8px var(--accent));
  }
}
.navSearch:active svg {
  color: var(--accent);
  transform: scale(1.15) rotate(-15deg);
  filter: drop-shadow(0 0 8px var(--accent));
}


/* --- MOBILE --- */
.mobileView { display: none; }
.hamburgerButton { display: none; }
.mobileNavOverlay { display: none; }
.orbitalCenter { font-family: var(--font-heading); font-weight: 800; font-size: 8rem; color: var(--text-secondary); background-color: var(--bg-secondary); border: 1px solid var(--border-color); width: 120px; height: 120px; border-radius: 50%; display: flex; align-items: center; justify-content: center; line-height: 1; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: all 0.2s ease-out; }
@media (hover: hover) {
  .orbitalCenter:hover  { transform: scale(1.05); border-color: var(--accent); color: var(--accent); box-shadow: 0 0 20px color-mix(in srgb, var(--accent) 50%, transparent); }
  .orbitalCenter:active  { transform: scale(1.05); border-color: var(--accent); color: var(--accent); box-shadow: 0 0 20px color-mix(in srgb, var(--accent) 50%, transparent); }
}
.orbitalCenter:active { transform: scale(1.05); border-color: var(--accent); color: var(--accent); box-shadow: 0 0 20px color-mix(in srgb, var(--accent) 50%, transparent); }

.orbitalCenter.active { border-color: var(--accent); color: var(--accent); box-shadow: 0 0 20px color-mix(in srgb, var(--accent) 50%, transparent); }
.orbitalItemWrapper { position: absolute; display: flex; flex-direction: column; align-items: center; gap: 0.75rem; }
.orbitalOrb { width: 64px; height: 64px; border-radius: 50%; background-color: var(--bg-secondary); border: 1px solid var(--border-color); color: var(--text-secondary); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s ease-out; box-shadow: 0 5px 15px rgba(0,0,0,0.1); font-size: 2rem; font-weight: 800; }
.orbitalOrb.active { border-color: var(--accent); color: var(--accent); box-shadow: 0 0 20px color-mix(in srgb, var(--accent) 50%, transparent); }
.orbitalOrb svg { width: 28px; height: 28px; }
.orbitalTitle { font-family: var(--font-main); font-size: 1.4rem; font-weight: 600; color: var(--text-primary); pointer-events: none; text-align: center; text-shadow: 0 2px 5px var(--bg-primary); }

@media (max-width: 1024px) {
  .desktopView { display: none; }
  .mobileView { display: flex; justify-content: space-between; align-items: center; width: 100%; }
  .mobileNavGroupLeft, .mobileNavGroupRight { display: flex; align-items: center; gap: 1.5rem; flex: 1; }
  .mobileNavGroupLeft { justify-content: flex-start; }
  .mobileNavGroupRight { justify-content: flex-end; }
  .hamburgerButton { display: flex; align-items: center; justify-content: center; background: none; border: none; padding: 0; cursor: pointer; z-index: 1201; color: var(--text-primary); width: 2.4rem; height: 2.4rem; }
  
  .mobileNavOverlay { 
      display: flex; align-items: center; justify-content: center; position: fixed; inset: 0; 
      background-color: color-mix(in srgb, var(--bg-primary) 85%, transparent); 
      backdrop-filter: blur(10px); 
      z-index: 1200; 
  }
  
  /* Mobile Opt for Overlay: Kill Blur */
  @media (max-width: 768px) {
      .mobileNavOverlay { 
          backdrop-filter: none !important;
          -webkit-backdrop-filter: none !important;
          background-color: rgba(5, 5, 5, 0.98); /* Higher opacity fallback */
      }
  }

  .mobileNavContent { position: relative; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
}

body.editor-active .desktopView > nav { display: none; }
body.editor-active .desktopView { grid-template-columns: auto 1fr; }
@media (max-width: 1024px) { body.editor-active .mobileView { display: none; } }


